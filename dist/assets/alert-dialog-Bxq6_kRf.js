import{c as f,r as i,j as o,E as l,F as c,t as H,Z as v,_ as z,$ as L,v as A,a0 as V,a1 as U,y as W,a2 as Y,a3 as Z,a4 as B,a5 as x,a6 as J,a7 as K,a8 as h}from"./index-BFVSuNBS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=f("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=f("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=f("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=f("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=f("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Q=i.forwardRef(({className:t,...e},a)=>o.jsx("textarea",{className:l("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...e}));Q.displayName="Textarea";async function we(t,e,a){try{const{data:r,error:s}=await c.from("saved_articles").select("id").eq("user_id",t).eq("topic",e.topic).single();if(s&&s.code!=="PGRST116")throw s;if(r)return{success:!1,alreadySaved:!0};const{error:d}=await c.from("saved_articles").insert({user_id:t,headline:e.headline,topic:e.topic,article_data:e,tags:a||[],notes:""});if(d)throw d;return{success:!0}}catch(r){return console.error("Failed to save article:",r),{success:!1,error:r instanceof Error?r.message:"Failed to save article"}}}async function be(t){try{const{data:e,error:a}=await c.from("saved_articles").select("*").eq("user_id",t).order("saved_at",{ascending:!1});if(a)throw a;return e||[]}catch(e){return console.error("Failed to get saved articles:",e),[]}}async function Re(t,e){try{const{error:a}=await c.from("saved_articles").update({notes:e}).eq("id",t);if(a)throw a;return!0}catch(a){return console.error("Failed to update notes:",a),!1}}async function je(t,e){try{const{error:a}=await c.from("saved_articles").update({tags:e}).eq("id",t);if(a)throw a;return!0}catch(a){return console.error("Failed to update tags:",a),!1}}async function Ee(t){try{const{error:e}=await c.from("saved_articles").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Failed to delete article:",e),!1}}async function Se(t,e){try{const{data:a,error:r}=await c.from("saved_articles").select("id").eq("user_id",t).eq("topic",e).single();if(r&&r.code!=="PGRST116")throw r;return!!a}catch(a){return console.error("Failed to check if article saved:",a),!1}}var D="AlertDialog",[X,Te]=H(D,[v]),n=v(),N=t=>{const{__scopeAlertDialog:e,...a}=t,r=n(e);return o.jsx(J,{...r,...a,modal:!0})};N.displayName=D;var ee="AlertDialogTrigger",ae=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,s=n(a);return o.jsx(z,{...s,...r,ref:e})});ae.displayName=ee;var te="AlertDialogPortal",_=t=>{const{__scopeAlertDialog:e,...a}=t,r=n(e);return o.jsx(K,{...r,...a})};_.displayName=te;var re="AlertDialogOverlay",w=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,s=n(a);return o.jsx(L,{...s,...r,ref:e})});w.displayName=re;var p="AlertDialogContent",[oe,se]=X(p),b=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,children:r,...s}=t,d=n(a),g=i.useRef(null),G=A(e,g),m=i.useRef(null);return o.jsx(V,{contentName:p,titleName:R,docsSlug:"alert-dialog",children:o.jsx(oe,{scope:a,cancelRef:m,children:o.jsxs(U,{role:"alertdialog",...d,...s,ref:G,onOpenAutoFocus:W(s.onOpenAutoFocus,u=>{var y;u.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Y,{children:r}),o.jsx(le,{contentRef:g})]})})})});b.displayName=p;var R="AlertDialogTitle",j=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,s=n(a);return o.jsx(Z,{...s,...r,ref:e})});j.displayName=R;var E="AlertDialogDescription",S=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,s=n(a);return o.jsx(B,{...s,...r,ref:e})});S.displayName=E;var ie="AlertDialogAction",T=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,s=n(a);return o.jsx(x,{...s,...r,ref:e})});T.displayName=ie;var k="AlertDialogCancel",C=i.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:s}=se(k,a),d=n(a),g=A(e,s);return o.jsx(x,{...d,...r,ref:g})});C.displayName=k;var le=({contentRef:t})=>{const e=`\`${p}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${p}\` by passing a \`${E}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${p}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ne=N,ce=_,P=w,M=b,q=T,F=C,O=j,$=S;const ke=ne,de=ce,I=i.forwardRef(({className:t,...e},a)=>o.jsx(P,{className:l("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:a}));I.displayName=P.displayName;const pe=i.forwardRef(({className:t,...e},a)=>o.jsxs(de,{children:[o.jsx(I,{}),o.jsx(M,{ref:a,className:l("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));pe.displayName=M.displayName;const ue=({className:t,...e})=>o.jsx("div",{className:l("flex flex-col space-y-2 text-center sm:text-left",t),...e});ue.displayName="AlertDialogHeader";const fe=({className:t,...e})=>o.jsx("div",{className:l("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fe.displayName="AlertDialogFooter";const ge=i.forwardRef(({className:t,...e},a)=>o.jsx(O,{ref:a,className:l("text-lg font-semibold",t),...e}));ge.displayName=O.displayName;const me=i.forwardRef(({className:t,...e},a)=>o.jsx($,{ref:a,className:l("text-sm text-muted-foreground",t),...e}));me.displayName=$.displayName;const ye=i.forwardRef(({className:t,...e},a)=>o.jsx(q,{ref:a,className:l(h(),t),...e}));ye.displayName=q.displayName;const ve=i.forwardRef(({className:t,...e},a)=>o.jsx(F,{ref:a,className:l(h({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ve.displayName=F.displayName;export{ke as A,xe as E,he as F,De as G,Ne as S,_e as T,Q as a,pe as b,Se as c,ue as d,ge as e,me as f,be as g,fe as h,ve as i,ye as j,Ee as k,je as l,we as s,Re as u};
