import{j as e,i as t}from"./ui-vendor-Bw2ZGllB.js";import{r as s,u as a}from"./react-vendor-CMCxm6aa.js";import{c as n,a as i,s as r,n as o,f as c,u as l,D as d,o as u,p,q as m,B as h,r as g,C as f,h as y}from"./index-GErBfjjf.js";import{B as v}from"./badge-3VR0oUcD.js";import{c as x,B as b}from"./button-D4zDVS4b.js";import{C as w,S}from"./search-iVXSCB_L.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=n("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]),j=n("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),k=n("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),C=n("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function I(...e){const t=e[0];if(1===e.length)return t;const a=()=>{const a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=a.reduce((t,{useScope:s,scopeName:a})=>({...t,...s(e)[`__scope${a}`]}),{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return a.scopeName=t.scopeName,a}var _="Progress",[E,A]=function(t,a=[]){let n=[];const i=()=>{const e=n.map(e=>s.createContext(e));return function(a){const n=(null==a?void 0:a[t])||e;return s.useMemo(()=>({[`__scope${t}`]:{...a,[t]:n}}),[a,n])}};return i.scopeName=t,[function(a,i){const r=s.createContext(i),o=n.length;function c(a){const{scope:n,children:i,...c}=a,l=(null==n?void 0:n[t][o])||r,d=s.useMemo(()=>c,Object.values(c));return e.jsx(l.Provider,{value:d,children:i})}return n=[...n,i],c.displayName=a+"Provider",[c,function(e,n){const c=(null==n?void 0:n[t][o])||r,l=s.useContext(c);if(l)return l;if(void 0!==i)return i;throw new Error(`\`${e}\` must be used within \`${a}\``)}]},I(i,...a)]}(_),[T,M]=E(_),P=s.forwardRef((s,a)=>{const{__scopeProgress:n,value:i=null,max:r,getValueLabel:o=q,...c}=s;(r||0===r)&&D(r);const l=D(r)?r:100;null!==i&&$(i,l);const d=$(i,l)?i:null,u=B(d)?o(d,l):void 0;return e.jsx(T,{scope:n,value:d,max:l,children:e.jsx(t.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":B(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":F(d,l),"data-value":d??void 0,"data-max":l,...c,ref:a})})});P.displayName=_;var O="ProgressIndicator",R=s.forwardRef((s,a)=>{const{__scopeProgress:n,...i}=s,r=M(O,n);return e.jsx(t.div,{"data-state":F(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:a})});function q(e,t){return`${Math.round(e/t*100)}%`}function F(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function B(e){return"number"==typeof e}function D(e){return B(e)&&!isNaN(e)&&e>0}function $(e,t){return B(e)&&!isNaN(e)&&e<=t&&e>=0}R.displayName=O;var L=P,G=R;const z=s.forwardRef(({className:t,value:s,...a},n)=>e.jsx(L,{ref:n,className:i("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(G,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));z.displayName=L.displayName;const H={async saveSurveyResponses(e,t){try{const s={...t,completedAt:(new Date).toISOString()},{error:a}=await r.from("user_preferences").update({survey_responses:s,onboarding_completed:!0,content_preferences:{readingLevel:"Technical details"===t.newsConsumption?"phd":"Simple explanations"===t.newsConsumption?"eli5":"base",articleLength:t.timeAvailability,preferredDepth:t.newsConsumption,formatPreferences:t.contentPreferences,updateFrequency:t.updateFrequency}}).eq("user_id",e);if(a)throw a;return sessionStorage.setItem(`onboarding_completed_${e}`,"true"),{success:!0}}catch(s){return{success:!1,error:s}}},async getLikedRecommendations(e){try{const{data:t,error:s}=await r.from("user_preferences").select("liked_recommendations").eq("user_id",e).single();if(s)throw s;return(null==t?void 0:t.liked_recommendations)||[]}catch(t){return[]}},async updateInterestProfile(e,t,s,a){try{const{data:n}=await r.from("user_preferences").select("interest_profile").eq("user_id",e).single(),i=(null==n?void 0:n.interest_profile)||{categories:{},topics:{},engagement:{clicks:0,searches:0,readingTime:0}};if(t){i.categories[t]=(i.categories[t]||0)+.1;const e=Math.max(...Object.values(i.categories));e>1&&Object.keys(i.categories).forEach(t=>{i.categories[t]=i.categories[t]/e})}if(s){i.topics[s]=(i.topics[s]||0)+.15;const e=Math.max(...Object.values(i.topics));e>1&&Object.keys(i.topics).forEach(t=>{i.topics[t]=i.topics[t]/e})}"click"===a&&i.engagement.clicks++,"search"===a&&i.engagement.searches++,"read"===a&&(i.engagement.readingTime+=5),await r.from("user_preferences").update({interest_profile:i}).eq("user_id",e)}catch(n){}},async getUserPreferences(e){try{const{data:t,error:s}=await r.from("user_preferences").select("*").eq("user_id",e).single();if(s)throw s;return t}catch(t){return null}},async trackRecommendationClick(e,t,s){try{const{data:a}=await r.from("user_preferences").select("recommendation_history").eq("user_id",e).single(),n=(null==a?void 0:a.recommendation_history)||[],i=n[n.length-1];i&&i.sessionId===s?(i.clicked||(i.clicked=[]),i.clicked.includes(t)||i.clicked.push(t)):n.push({timestamp:(new Date).toISOString(),recommendations:[],clicked:[t],liked:[],sessionId:s||o()});const c=n.slice(-10);await r.from("user_preferences").update({recommendation_history:c}).eq("user_id",e)}catch(a){}}},W={"AI & Machine Learning":["Latest AI regulations and policy updates","Breakthrough in generative AI applications","Open source AI model developments","AI ethics and bias prevention strategies","Machine learning in healthcare diagnostics","Natural language processing advancements","Computer vision applications in industry","AI-powered automation trends"],"Technology & Cybersecurity":["Cybersecurity threats and data privacy in 2025","Zero-trust security architecture trends","Ransomware prevention strategies","Cloud security best practices","IoT device security challenges","Quantum computing impact on encryption","Mobile app security vulnerabilities","Blockchain security applications"],Business:["Global supply chain disruptions and solutions","Remote work policy changes in major corporations","Startup ecosystem growth in emerging markets","ESG investing trends and impact","Corporate merger and acquisition activity","Small business digital transformation","Economic indicators and market predictions","Leadership strategies in uncertain times"],Science:["Climate change mitigation breakthroughs","Space exploration missions update","Medical research advances in gene therapy","Renewable energy technology innovations","Ocean conservation efforts worldwide","Archaeological discoveries this year","Quantum physics research developments","Environmental restoration projects"],Medicine:["New cancer treatment breakthroughs","Mental health support innovations","Vaccine development updates","Healthcare accessibility improvements","Medical AI diagnostic tools","Aging research and longevity science","Pandemic preparedness strategies","Personalized medicine advances"],"Business & Finance":["Central bank policy decisions and market impact","Corporate earnings reports and guidance updates","Private equity and venture capital trends","Financial technology disrupting traditional banking","Global trade agreements and tariff developments","Stock market volatility and investment strategies","Cryptocurrency adoption by financial institutions","Consumer spending patterns and economic indicators"],"Climate & Environment":["COP summit outcomes and climate commitments","Carbon capture technology breakthroughs","Renewable energy infrastructure investments","Biodiversity conservation success stories","Extreme weather patterns and adaptation strategies","Sustainable agriculture innovations","Ocean cleanup initiatives progress","Green building and sustainable architecture trends"],"Healthcare Innovation":["mRNA technology beyond vaccines","AI-powered drug discovery breakthroughs","Wearable health monitoring advances","Precision medicine and genomics progress","Mental health technology solutions","Robotic surgery innovations","Healthcare accessibility in underserved areas","Aging population care innovations"],"Space & Science":["James Webb telescope latest discoveries","SpaceX Starship development updates","Lunar base construction progress","Exoplanet discoveries and habitability","Quantum computing milestones","Nuclear fusion energy breakthroughs","Dark matter research developments","International space station experiments"],"Economics & Markets":["Federal Reserve policy impact analysis","Global inflation trends and predictions","Emerging market opportunities and risks","Supply chain resilience strategies","Real estate market dynamics","Commodity prices and geopolitical factors","Labor market transformation trends","Economic inequality solutions debate"],"Politics & Policy":["Election outcomes and policy implications","International relations and diplomacy updates","Technology regulation developments","Healthcare policy reforms debate","Climate policy implementation progress","Immigration policy changes worldwide","Trade policy and economic partnerships","Defense and security policy shifts"],"Education & Research":["AI in education transformation","Remote learning effectiveness studies","STEM education initiatives worldwide","University research breakthroughs","Educational equity programs success","Skills gap and workforce training","Open access research movement","Education technology startups growth"],"Arts & Entertainment":["AI-generated art and creativity debate","Streaming industry consolidation trends","Virtual reality entertainment evolution","Independent creators economy growth","Cultural festivals and events revival","Gaming industry technological advances","Music industry transformation insights","Film production innovation trends"],"Engineering & Innovation":["Sustainable materials engineering breakthroughs","Robotics and automation advances","Smart city infrastructure developments","3D printing in manufacturing evolution","Bioengineering applications expansion","Transportation innovation updates","Energy storage technology progress","Civil engineering megaprojects"],"Cryptocurrency & Web3":["Bitcoin institutional adoption trends","Ethereum upgrades and scalability","Central bank digital currency developments","DeFi protocol innovations and risks","NFT market evolution and use cases","Web3 infrastructure building progress","Cryptocurrency regulation updates globally","Blockchain enterprise adoption cases"],"Sports & Fitness":["Sports technology and performance analytics","Mental health in professional sports","Fitness wearables and health tracking","Esports industry growth and recognition","Sports medicine breakthroughs","Sustainable sports venues initiatives","Women's sports investment surge","Virtual fitness platform innovations"],"Social Issues":["Digital privacy rights developments","Social media impact on mental health","Workplace diversity and inclusion progress","Housing affordability crisis solutions","Criminal justice reform initiatives","Food security and sustainability efforts","Gender equality advancement globally","Community-driven social innovations"],"Global Affairs":["UN sustainable development goals progress","International conflict resolution efforts","Global health initiatives coordination","Refugee crisis and humanitarian response","International trade negotiations updates","Climate diplomacy and cooperation","Global economic forum key outcomes","Cross-border collaboration innovations"],General:["Breaking news in technology and innovation","Global economic trends and analysis","Scientific breakthroughs changing our world","Healthcare advances improving lives","Climate action and sustainability efforts","Education technology transforming learning","Social innovation and community impact","Future of work and career trends"]},Q={"Professional development & career growth":{modifier:"career impact",topics:["How {topic} is reshaping job markets","Skills needed for {topic} professionals","Career opportunities in {topic}","{topic} certifications and training"]},"Investment & financial decisions":{modifier:"investment outlook",topics:["{topic} market analysis and predictions","Investment opportunities in {topic}","{topic} stock performance and trends","Financial impact of {topic} developments"]},"Academic research & learning":{modifier:"research focus",topics:["Latest research papers on {topic}","Academic breakthroughs in {topic}","{topic} methodology and best practices","Future research directions in {topic}"]},"Business strategy & entrepreneurship":{modifier:"business opportunity",topics:["{topic} startup opportunities","Business models leveraging {topic}","{topic} market disruption analysis","Competitive advantages through {topic}"]}};const V=s.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));V.displayName="Card";s.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex flex-col space-y-1.5 p-6",t),...s})).displayName="CardHeader";s.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:x("text-2xl font-semibold leading-none tracking-tight",t),...s})).displayName="CardTitle";s.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:x("text-sm text-muted-foreground",t),...s})).displayName="CardDescription";const U=s.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("p-6 pt-0",t),...s}));U.displayName="CardContent";s.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex items-center p-6 pt-0",t),...s})).displayName="CardFooter";let Y=0;const J=new Map,X=(e,t)=>{if(J.has(e))return;const s=setTimeout(()=>{J.delete(e),te({type:"REMOVE_TOAST",toastId:e})},t||5e3);J.set(e,s)},Z=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?X(s):e.toasts.forEach(e=>{X(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},K=[];let ee={toasts:[]};function te(e){ee=Z(ee,e),K.forEach(e=>{e(ee)})}function se({duration:e,...t}){const s=(Y=(Y+1)%Number.MAX_SAFE_INTEGER,Y.toString()),a=()=>te({type:"DISMISS_TOAST",toastId:s});te({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}});return X(s,e||5e3),{id:s,dismiss:a,update:e=>te({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function ae({recommendations:t,onComplete:n,onClose:i,userId:r}){const o=a(),{toast:c}=function(){const[e,t]=s.useState(ee);return s.useEffect(()=>(K.push(t),()=>{const e=K.indexOf(t);e>-1&&K.splice(e,1)}),[e]),{...e,toast:se,dismiss:e=>te({type:"DISMISS_TOAST",toastId:e})}}(),[l,d]=s.useState(null),[u,p]=s.useState([]),[m,h]=s.useState(!1),g=t.slice(0,5);return e.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Your Personalized Recommendations"}),e.jsx("p",{className:"text-slate-600",children:"Based on your interests, we've selected these topics for you. Choose one to explore now and save others for later."})]}),e.jsx("div",{className:"space-y-4 mb-8",children:g.map((t,s)=>{const a=l===t,n=u.includes(t);return e.jsx(V,{className:"transition-all duration-200 cursor-pointer "+(a?"ring-2 ring-blue-500 bg-blue-50/50":n?"ring-1 ring-purple-400 bg-purple-50/30":"hover:shadow-md"),onClick:()=>(e=>{d(e),p(u.filter(t=>t!==e))})(t),children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 "+(a?"bg-blue-100":n?"bg-purple-100":"bg-slate-100"),children:a?e.jsx(w,{className:"w-5 h-5 text-blue-600"}):n?e.jsx(N,{className:"w-5 h-5 text-purple-600"}):e.jsx(C,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:t}),a&&e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Selected for immediate search"}),n&&!a&&e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Saved for later"})]})]}),e.jsx(b,{variant:n?"default":"outline",size:"sm",onClick:e=>{e.stopPropagation(),(e=>{e===l&&d(null),u.includes(e)?p(u.filter(t=>t!==e)):p([...u,e])})(t)},className:n?"bg-purple-600 hover:bg-purple-700":"",children:n?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-1"}),"Queued"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),"Queue"]})})]})})},s)})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(b,{size:"lg",onClick:async()=>{if(l){h(!0);try{if(r&&u.length>0){const e=`recommendation_queue_${r}`,t=JSON.parse(localStorage.getItem(e)||"[]"),s=[...new Set([...t,...u])];localStorage.setItem(e,JSON.stringify(s))}c({title:"Starting your personalized experience",description:u.length>0?`Searching for "${l}" with ${u.length} topics queued for later.`:`Searching for "${l}"`,variant:"success"}),o("/",{state:{searchTopic:l}}),n(),i()}catch(e){c({title:"Error",description:"Failed to start your search. Please try again.",variant:"destructive"})}finally{h(!1)}}else c({title:"Please select a topic",description:"Choose a topic to search first, or queue topics for later.",variant:"default"})},disabled:!l||m,className:"w-full",children:m?"Starting...":e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Start with Selected Topic"]})}),u.length>0&&e.jsxs("p",{className:"text-sm text-center text-slate-600",children:[u.length," topic",u.length>1?"s":""," saved for later exploration"]})]})]})}const ne=[{id:"interests",question:"What topics interest you most? (select up to 5)",type:"multiple",options:["AI & Machine Learning","Business & Finance","Climate & Environment","Healthcare Innovation","Space & Science","Technology & Cybersecurity","Economics & Markets","Politics & Policy","Education & Research","Arts & Entertainment","Engineering & Innovation","Cryptocurrency & Web3","Sports & Fitness","Social Issues","Global Affairs"]},{id:"usage",question:"How do you use news in your life? (select up to 3)",type:"multiple",options:["Professional development & career growth","Academic research & learning","Investment & financial decisions","Business strategy & entrepreneurship","Teaching & sharing knowledge","Personal interest & curiosity","Staying informed for conversations","Industry trends & insights","Innovation & new ideas","Policy & regulatory awareness"]},{id:"style",question:"What's your preferred content style?",type:"single",options:["Quick summaries (5-minute reads)","Detailed analysis (10-15 minute reads)","Technical deep-dives","Simple explanations","Mix of everything"]}];function ie({isOpen:t,onClose:n,onComplete:i}){var o,x;const{user:b}=c();a();const{toast:w}=l(),[S,N]=s.useState(0),[k,I]=s.useState({}),[_,E]=s.useState(!1),[A,T]=s.useState(!1),[M,P]=s.useState([]),O=async()=>{var e;E(!0);try{const t={fieldOfInterest:[],role:"",topicInterests:k.interests||[],newsConsumption:(null==(e=k.style)?void 0:e[0])||"",goals:k.usage||[]};b&&await H.saveSurveyResponses(b.id,t);const{recommendations:s}=function(e){var t,s;const a=e.interests||[],n=e.usage||e.goals||[],i=(null==(t=e.style)?void 0:t[0])||(null==(s=e.depth)?void 0:s[0])||"Balanced mix",r=new Set;a.forEach(e=>{(W[e]||W.General).slice(0,3).forEach(e=>r.add(e)),n.forEach(t=>{const s=Q[t];if(s&&r.size<15){const t=s.topics[Math.floor(Math.random()*s.topics.length)].replace("{topic}",e.toLowerCase());r.add(t)}})}),"Technical deep-dives"===i?(r.add("Technical analysis: Advanced concepts explained"),r.add("Research paper breakdowns and implications")):"Simple explanations"===i&&(r.add("Beginner's guide to trending topics"),r.add("Complex news simplified")),r.size<5&&W.General.forEach(e=>{r.size<5&&r.add(e)});const o=[];a.length>0&&o.push(`your interest in ${a.slice(0,2).join(" and ")}`),n.length>0&&o.push(`your focus on ${n[0].toLowerCase()}`);const c=o.length>0?`Based on ${o.join(" and ")}, here are your personalized recommendations:`:"Here are some trending topics we think you'll find interesting:";return{recommendations:Array.from(r).slice(0,10),context:c}}(k);b&&sessionStorage.setItem(`onboarding_completed_${b.id}`,"true"),P(s),T(!0)}catch(t){w({title:"Error",description:"Failed to save your preferences. Please try again.",variant:"destructive"})}finally{E(!1)}},R=ne[S],q=(S+1)/ne.length*100,F="single"===R.type?1===(null==(o=k[R.id])?void 0:o.length):(null==(x=k[R.id])?void 0:x.length)>0;return e.jsx(d,{open:t,onOpenChange:n,children:e.jsx(u,{className:"max-w-2xl bg-white/95 backdrop-blur-sm",children:A?e.jsx(ae,{recommendations:M,onComplete:i,onClose:n,userId:null==b?void 0:b.id}):e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-purple-600"}),e.jsx(m,{className:"text-gray-900",children:"Personalize Your News Experience"})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:async()=>{if(b)try{await r.from("user_preferences").update({onboarding_completed:!0}).eq("user_id",b.id),sessionStorage.setItem(`onboarding_completed_${b.id}`,"true")}catch(e){}w({title:"Survey skipped",description:"You can always complete it later in your preferences.",variant:"default"}),i(),n()},className:"text-gray-500 hover:text-gray-700",children:"Skip for now"})]}),e.jsx(g,{className:"text-gray-600",children:"Help us understand your interests to deliver the most relevant news to you."})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(z,{value:q,className:"mb-6"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:R.question}),"multiple"===R.type&&e.jsx("p",{className:"text-sm text-gray-600",children:"Select all that apply"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:R.options.map(t=>{var s;const a=null==(s=k[R.id])?void 0:s.includes(t);return e.jsx(f,{className:"p-4 cursor-pointer transition-all "+(a?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"),onClick:()=>((e,t,s)=>{if("single"===s)I({...k,[e]:[t]});else{const s=k[e]||[],a="interests"===e?5:"usage"===e?3:5;s.includes(t)?I({...k,[e]:s.filter(e=>e!==t)}):s.length<a?I({...k,[e]:[...s,t]}):w({title:"Selection limit reached",description:`You can select up to ${a} options for this question.`,variant:"default"})}})(R.id,t,R.type),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:""+(a?"font-medium text-blue-700":"text-gray-700"),children:t}),a&&e.jsx(v,{variant:"default",className:"ml-2 bg-blue-600",children:"Selected"})]})},t)})}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs(h,{variant:"outline",onClick:()=>{S>0&&N(S-1)},disabled:0===S,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(h,{onClick:()=>{S<ne.length-1?N(S+1):O()},disabled:!F||_,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:S===ne.length-1?_?"Completing...":"Complete":e.jsxs(e.Fragment,{children:["Next",e.jsx(y,{className:"h-4 w-4 ml-2"})]})})]}),e.jsxs("p",{className:"text-xs text-center text-gray-500 mt-4",children:["Question ",S+1," of ",ne.length]})]})]})})})}export{V as C,ie as O,z as P,C as S,U as a};
