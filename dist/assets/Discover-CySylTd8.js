import{c as R,i as L,a as A,r as d,j as e,G as p,K as g,B as i,H as j,J as y,R as H}from"./index-BFVSuNBS.js";import{S as Q}from"./sparkles-KxbXQGQf.js";import{L as G,C as N}from"./loader-circle-DnJb0dIx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),l=[{id:"field",question:"What field are you in or interested in?",type:"multiple",options:["Technology","Business","Science","Medicine","Law","Education","Arts","Engineering","Finance","Politics"]},{id:"role",question:"What best describes you?",type:"single",options:["Student","Professional","Researcher","Entrepreneur","Educator","Hobbyist","Retiree"]},{id:"interests",question:"What topics interest you most?",type:"multiple",options:["AI & Machine Learning","Climate Change","Space Exploration","Healthcare Innovation","Economic Trends","Social Media","Cryptocurrency","Politics & Policy","Sports","Entertainment"]},{id:"depth",question:"How do you prefer to consume news?",type:"single",options:["Quick headlines","In-depth analysis","Technical details","Simple explanations","Balanced mix"]},{id:"goals",question:"What's your goal with staying informed?",type:"multiple",options:["Professional development","Academic research","Personal interest","Investment decisions","General knowledge","Social conversations"]}],W=()=>{const m=L(),{toast:w}=A(),[a,u]=d.useState(0),[n,o]=d.useState({}),[C,h]=d.useState(!1),[b,f]=d.useState([]),k=(s,t,c)=>{if(c==="single")o({...n,[s]:[t]});else{const x=n[s]||[];x.includes(t)?o({...n,[s]:x.filter(P=>P!==t)}):o({...n,[s]:[...x,t]})}},S=()=>{a<l.length-1?u(a+1):T()},B=()=>{a>0&&u(a-1)},T=async()=>{h(!0);try{const s=await fetch("/api/generate-topics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:n})});setTimeout(()=>{f(["Latest AI regulations and policy updates","Breakthrough medical technologies in 2025","Climate tech startup funding trends","Quantum computing commercial applications","Global economic outlook post-2024"]),h(!1)},2e3)}catch(s){console.error("Failed to generate recommendations:",s),w({title:"Error",description:"Failed to generate recommendations. Please try again.",variant:"destructive"}),h(!1)}},r=l[a],E=(a+1)/l.length*100;return C?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:e.jsx(p,{className:"max-w-md w-full mx-4",children:e.jsxs(g,{className:"pt-6 text-center",children:[e.jsx(Q,{className:"h-12 w-12 text-purple-600 mx-auto mb-4 animate-pulse"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generating Your Personalized Topics..."}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Our AI is analyzing your interests"}),e.jsx(G,{className:"h-6 w-6 animate-spin mx-auto text-blue-600"})]})})}):b.length>0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(i,{onClick:()=>m("/"),variant:"ghost",className:"mb-6",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs(p,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsxs(j,{children:[e.jsxs(y,{className:"text-2xl flex items-center gap-2",children:[e.jsx(N,{className:"h-6 w-6 text-green-500"}),"Your Personalized Topics"]}),e.jsx("p",{className:"text-gray-600",children:"Based on your interests, here's what you should explore:"})]}),e.jsxs(g,{children:[e.jsx("div",{className:"space-y-3",children:b.map((s,t)=>e.jsx("button",{onClick:()=>m("/",{state:{searchTopic:s}}),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg hover:from-blue-100 hover:to-purple-100 transition-all text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-800 group-hover:text-blue-700",children:s}),e.jsx(H,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})},t))}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsx(i,{onClick:()=>{u(0),o({}),f([])},variant:"outline",className:"w-full",children:"Start Over with Different Answers"})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(i,{onClick:()=>m("/"),variant:"ghost",className:"mb-6",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs(p,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsxs(j,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${E}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Question ",a+1," of ",l.length]})]}),e.jsx(y,{className:"text-xl",children:r.question}),r.type==="multiple"&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Select all that apply"})]}),e.jsxs(g,{children:[e.jsx("div",{className:"space-y-3",children:r.options.map(s=>{var c;const t=(c=n[r.id])==null?void 0:c.includes(s);return e.jsx("button",{onClick:()=>k(r.id,s,r.type),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s}),t&&e.jsx(N,{className:"h-5 w-5 text-blue-600"})]})},s)})}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(i,{onClick:B,variant:"outline",disabled:a===0,children:"Back"}),e.jsx(i,{onClick:S,disabled:!n[r.id]||n[r.id].length===0,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:a===l.length-1?"Get Recommendations":"Next"})]})]})]})]})})};export{W as default};
